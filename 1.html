<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Let's make a face</title>
  <script src="https://d3js.org/d3.v5.min.js"></script>
</head>
<body>
  <svg width="960" height = "500"></svg>
  <script>

    const svg = d3.select('svg');
    const height = parseFloat(svg.attr('height'));

    const g = svg.append('g')
      .attr("transform", 'translate(250,260)');

    const width = +svg.attr('width'); // + same as parseFloat
   // svg.style('background-color', 'red');
    const head = g.append('circle')
      .attr('r', 200) // D3 chains object usage
      .attr('cx',0)
      .attr('cy',0)
      .attr('fill', 'yellow')
      .attr('stroke', 'black');

    const eyesG = svg.append('g')
      .attr('transform', 'translate(140,180)');

    eyesG
      .transition()
      .attr('transform', 'translate(150,180)');


    const leftEye = eyesG.append('circle')
      .attr('r', 30) // D3 chains object usage
      .attr('cx',0 )
      .attr('cy',0)
      .attr('fill', 'black');

    const rightEye = eyesG.append('circle')
      .attr('r', 30) // D3 chains object usage
      .attr('cx',200)
      .attr('cy',0)
      .attr('fill', 'black');

    const leftEyebrow = eyesG.append('rect')
      .attr('x', -30)
      .attr('y', -60 )
      .attr('width', 50)
      .attr('height', 20);

    const rightEyebrow = eyesG.append('rect')
      .attr('x', 180)
      .attr('y', -60 )
      .attr('width', 50)
      .attr('height', 20)
      .transition().duration(2000)
        .attr('y', -80)
      .transition().duration(2000)
        .attr('y', -60)

    const mouth = g.append('path')
      .attr('d', d3.arc()({
      innerRadius: 80,
      outerRadius: 100,
      startAngle: Math.PI /2,
      endAngle: Math.PI * 3 / 2
    }));

  </script>

</body>
</html>
